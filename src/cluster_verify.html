<!DOCTYPE html>
<html lang="en">
    
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>My Google Maps API</title>
  <style>
    #mymap{
        height: 400px;
        width: 100%;
    }
  </style>
</head>
    
<body>
    <h1>My Google Map</h1>
    <div id="mymap"></div>

    <!-- The initMap function was called in the next script tab with "callback=initMap" -->
    <script>
      function initMap(){
    	//Map options
        var options = {
          zoom:10,
          center:{lat: 30.40, lng: -97.70},
          mapTypeId: 'satellite'
        };
        
        //Create a new map with 2 parameters
        var mymap = new google.maps.Map(document.getElementById('mymap'),options);
        
        //Listen to click on map
        google.maps.event.addListener(mymap, 'click', function(event){
        	addMarker({
        		coords: event.latLng
        	});
        })
        
        //List of markers
        var markers = [
        	{
        	   coords:{lat: 30.519353, lng: -97.650392},
     	       iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
     	       content: '<h1>SK 1504(SHOPPING)</h1>'
        	},
        	{
        	   coords:{lat: 30.28796, lng: -97.742711},
             iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
     	       content: '<h1>SK 0193(TRAVEL)</h1>'
        	},
        	{
        	   coords:{lat: 30.466512, lng: -97.596178},
     	       iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
             content: '<h1>SK 1332(HOME)</h1>'
          }
        ];
        
        //loop through Array markers
        for(var i=0; i<markers.length; i++){
        	addMarker(markers[i]);
        }
        
        function addMarker(props){
        	var marker = new google.maps.Marker({
                position: props.coords,
                map: mymap,
                //icon: props.iconImage
            });
        	
        	//Check for costom icon
        	if(props.iconImage){
        		marker.setIcon(props.iconImage);
        	}
        	
        	//Check for content
        	if(props.content){
        		var infoWindow = new google.maps.InfoWindow({
                	content: props.content
                });
                marker.addListener('click', function(){
                	infoWindow.open(mymap, marker);
                });
        	}
        }     	       
    }
    </script>
    
    <script async defer 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSIEnpgGi6s6cCMrLNSTCglznpu-9g7co&callback=initMap">
    </script>
</body>
</html>